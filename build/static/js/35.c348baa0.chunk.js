(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[35],{554:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return _}));var a=n(11),o=n(5),i=n(2),r=n(23),c=n(24),s=n(29),u=n(30),l=(n(524),n(525),n(0)),b=n.n(l),j=n(526),d=n.n(j),p=n(527),h=n(6),O=n(420),m=n(428),f=n(55),x=n(572),y=n(4),v=O.a.useBreakpoint,g=function(t){var e=t.sideContent,n=t.sideContentWidth,a=void 0===n?250:n,o=t.border;return Object(y.jsx)("div",{className:"side-content ".concat(o?"with-border":""),style:{width:"".concat(a,"px")},children:e})},k=function(t){var e=t.sideContent,n=t.visible,a=t.onSideContentClose;return Object(y.jsx)(m.a,{width:320,placement:"left",closable:!1,onClose:a,visible:n,bodyStyle:{paddingLeft:0,paddingRight:0},children:Object(y.jsx)("div",{className:"h-100",children:e})})},C=function(t){var e=t.mainContent,n=t.pageHeader,a=t.sideContentGutter,o=void 0===a||a,r=!f.a.getBreakPoint(v()).includes("lg"),c=Object(l.useState)(!1),s=Object(h.a)(c,2),u=s[0],b=s[1];return Object(y.jsxs)("div",{className:"inner-app-layout",children:[r?Object(y.jsx)(k,Object(i.a)({visible:u,onSideContentClose:function(t){b(!1)}},t)):Object(y.jsx)(g,Object(i.a)({},t)),Object(y.jsxs)("div",{className:"main-content ".concat(n?"has-page-header":""," ").concat(o?"gutter":"no-gutter"),children:[r?Object(y.jsx)("div",{className:"font-size-lg mb-3 ".concat(o?"":"pt-3 px-3"),children:Object(y.jsx)(x.a,{onClick:function(){b(!0)}})}):null,e]})]})},B=n(108),w=n(484),N=n(568),S=n(573),T=n(574),L=Object(p.WidthProvider)(p.Responsive),I=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).downloadTxtFile=function(){var e=document.createElement("a"),n=new Blob([JSON.stringify(t.props.dataLayout)],{type:"text/plain;charset=utf-8"});e.href=URL.createObjectURL(n),e.download="mySetting.txt",document.body.appendChild(e),e.click()},t}return Object(c.a)(n,[{key:"render",value:function(){return Object(y.jsx)(B.a,{icon:Object(y.jsx)(S.a,{}),onClick:this.downloadTxtFile,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u043b\u0430\u043d"})}}]),n}(b.a.Component),P=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(y.jsx)("div",{className:"toolbox__items__item",onClick:this.props.onTakeItem.bind(void 0,this.props.item),children:Object(y.jsx)("img",{src:"/img/planner/plan".concat(this.props.item.i,".png"),alt:"avatar",className:"img-fluid"})})}}]),n}(b.a.Component),R=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(y.jsx)("div",{className:"toolbox",children:Object(y.jsx)("div",{className:"toolbox__items",children:this.props.items.map((function(e){return Object(y.jsx)(P,{item:e,onTakeItem:t.props.onTakeItem},e.i)}))})})}}]),n}(b.a.Component),_=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(r.a)(this,n);for(var c=arguments.length,s=new Array(c),u=0;u<c;u++)s[u]=arguments[u];return(t=e.call.apply(e,[this].concat(s))).state={currentBreakpoint:"lg",compactType:null,mounted:!1,layouts:{lg:t.props.initialLayout},layout:null,toolbox:{lg:[]}},t.onBreakpointChange=function(e){t.setState((function(t){return{currentBreakpoint:e,toolbox:Object(i.a)(Object(i.a)({},t.toolbox),{},Object(o.a)({},e,t.toolbox[e]||t.toolbox[t.currentBreakpoint]||[]))}}))},t.onTakeItem=function(e){t.setState((function(t){return{toolbox:Object(i.a)(Object(i.a)({},t.toolbox),{},Object(o.a)({},t.currentBreakpoint,t.toolbox[t.currentBreakpoint].filter((function(t){return t.i!==e.i})))),layouts:Object(i.a)(Object(i.a)({},t.layouts),{},Object(o.a)({},t.currentBreakpoint,[].concat(Object(a.a)(t.layouts[t.currentBreakpoint]),[e])))}}))},t.onPutItem=function(e){t.setState((function(t){return{toolbox:Object(i.a)(Object(i.a)({},t.toolbox),{},Object(o.a)({},t.currentBreakpoint,[].concat(Object(a.a)(t.toolbox[t.currentBreakpoint]||[]),[e]))),layouts:Object(i.a)(Object(i.a)({},t.layouts),{},Object(o.a)({},t.currentBreakpoint,t.layouts[t.currentBreakpoint].filter((function(t){return t.i!==e.i}))))}}))},t.onLayoutChange=function(e,n){t.props.onLayoutChange(e,n),t.setState({layouts:n,layout:e})},t.beforeUpload=function(e){return new Promise((function(n){var a=new FileReader;a.readAsText(e),a.onload=function(e){var n=JSON.parse(e.target.result);t.state.layout.forEach((function(e){return t.onPutItem(e)})),n.forEach((function(e){return t.onTakeItem(e)}))}}))},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.setState({mounted:!0}),this.state.layouts[this.state.currentBreakpoint].forEach((function(e){return t.onPutItem(e)}))}},{key:"generateDOM",value:function(){var t=this;return d.a.map(this.state.layouts[this.state.currentBreakpoint],(function(e){return Object(y.jsxs)("div",{style:{backgroundColor:"#eee"},children:[Object(y.jsx)("div",{className:"hide-button",onClick:t.onPutItem.bind(t,e),children:"\xd7"}),Object(y.jsx)("img",{src:"/img/planner/plan".concat(e.i,".png"),alt:"avatar",className:"img-fluid"})]},e.i)}))}},{key:"render",value:function(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(w.a,{xs:24,sm:24,md:24,lg:16,children:[Object(y.jsx)(I,{dataLayout:this.state.layout}),Object(y.jsx)(N.a,{beforeUpload:this.beforeUpload,children:Object(y.jsxs)(B.a,{children:[Object(y.jsx)(T.a,{})," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u043b\u0430\u043d"]})})]}),Object(y.jsx)("div",{className:"chat",children:Object(y.jsx)(C,{sideContent:Object(y.jsx)(R,{items:this.state.toolbox[this.state.currentBreakpoint]||[],onTakeItem:this.onTakeItem}),mainContent:Object(y.jsx)(L,Object(i.a)(Object(i.a)({},this.props),{},{layouts:this.state.layouts,onBreakpointChange:this.onBreakpointChange,onLayoutChange:this.onLayoutChange,measureBeforeMount:!1,useCSSTransforms:this.state.mounted,compactType:this.state.compactType,preventCollision:!this.state.compactType,children:this.generateDOM()})),sideContentWidth:450,sideContentGutter:!1,border:!0})})]})}}]),n}(b.a.Component);_.defaultProps={className:"layout",rowHeight:30,isResizable:!1,onLayoutChange:function(){},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},initialLayout:d.a.map(d.a.range(0,5),(function(t,e){return{x:0,y:0,w:1,h:4,i:e.toString(),static:!1}}))}}}]);
//# sourceMappingURL=35.c348baa0.chunk.js.map